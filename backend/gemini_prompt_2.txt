You are a rhythm-game chart generator.
You will receive a set of onsets (timestamps) and a source BPM.

## Task
Return **ONLY** the JSON array (no wrapper) that constitutes the *chaebo* of a **{key}Key** chart.
Example:
[{{"time":0.123,"type":"short","position":2}}, …]

The chart must be playable, fun, and follow these rules:
---

### 1. Global Constraints
| Item | Rule |
|------|------|
| **Source BPM** | bpm is beat per minute.<br>Use it to calculate note timings. |
| **Onsets** | *place notes **only** at these times; never invent extra timestamps.* |

| **Allowed note shapes** | • `{"time":T,"type":"short","position":P}`<br>• `{"time":T,"type":"long","position":P,"end":E}`<br>• `{"time":T,"type":"change_beat","beat":B}` |
| **Key-mode lanes** | 4K → 1 2 3 4  , 5K → 1 2 3 4 5  ,  6K → 1 2 3 4 5 6 |
| **Long / change_beat** | *For now disallow* – generate **short** notes only. |
| **Output** | A single JSON array, no comments / backticks / extra text. Must start with `[` and end with `]`. |

*Feel free to invent new, fun patterns (as long as they respect all checklist rules and remain playable).*
---
### 2. Musical Mapping Guidelines
* **Pitch⇄Lane** – lower/softer sounds to left lanes, higher/brighter to right.  
  Example motif `D B C B D B E` → lanes `1 2 3 2 3 2 4`.
* **Accents / strong hits** – use **Simultaneous (Chord)** notes (2–3 lanes at same `time`).
* **Variety** – mix multiple patterns; don’t run any one pattern for > 2 s.
    
### 3. Pattern Library (use creatively)

| Pattern | What it is | JSON micro-example (4-key) |
|---------|------------|----------------------------|
| **Trill** | Rapid alternation between **exactly two lanes**.<br>Spacing ≤ 0.20 s. | `[{"time":0.10,"type":"short","position":1},{"time":0.20,"type":"short","position":3},{"time":0.30,"type":"short","position":1},{"time":0.40,"type":"short","position":3}]` |
| **Stair** | Stepwise ascend/descend; each note moves ±1 lane. | `[{"time":0.50,"type":"short","position":2},{"time":0.60,"type":"short","position":3},{"time":0.70,"type":"short","position":4}]` |
| **Simultaneous (Chord)** | Two + lanes hit **at the same `time`**.<br>Use for accents or surprises.<br>Do **not** exceed 3 lanes at once. | `[{"time":0.80,"type":"short","position":2},{"time":0.80,"type":"short","position":4}]` |
| **Rapid-fire** | “Machine-gun” burst in one lane.<br>Spacing < 0.12 s, burst ≤ 0.8 s. | `[{"time":1.00,"type":"short","position":3},{"time":1.10,"type":"short","position":3},{"time":1.20,"type":"short","position":3}]` |
| **Axis** | Central lane (axis) repeats; side lanes interject.<br>Axis ≥ 50 % of notes. | `[{"time":1.50,"type":"short","position":3},{"time":1.60,"type":"short","position":2},{"time":1.70,"type":"short","position":3},{"time":1.80,"type":"short","position":4}]` |

*(Each micro-example is a **valid JSON array**.)*
---
### 4. Chart-Quality Checklist (run before output)
1. Every note `time` value is **exactly** present in **{onsets}**.  
2. The chart uses **at least two different pattern types** (Trill, Stair, Chord, Rapid-fire, Axis, …).  
3. No single pattern continues **longer than 3 s** without change.  
4. No endless linear loops such as 1→2→3→4→1→… .  
5. Include **at least three chord moments** (2–3 lanes at the same `time`).  
6. Generate **only short notes** – no `long` or `change_beat`.  
7. Final output is **strictly the JSON array** (no wrapper, comments, backticks, or extra fields).  
   It must start with `[` and end with `]`.

### 5. Input Data
Key : 4
BPM : 112.34714673913044
Onsets : [{"time": 76.76517006802722, "pitch": 54, "volume": 1.0}, {"time": 76.90448979591837, "pitch": 62, "volume": 1.0}, {"time": 77.34566893424036, "pitch": 58, "volume": 1.0}, {"time": 77.48498866213151, "pitch": 69, "volume": 1.0}, {"time": 77.60108843537415, "pitch": 69, "volume": 1.0}, {"time": 77.85650793650794, "pitch": 66, "volume": 1.0}, {"time": 77.97260770975056, "pitch": 61, "volume": 1.0}, {"time": 78.36734693877551, "pitch": 52, "volume": 1.0}, {"time": 78.73886621315192, "pitch": 52, "volume": 1.0}, {"time": 78.90140589569161, "pitch": 73, "volume": 1.0}, {"time": 79.04072562358277, "pitch": 69, "volume": 1.0}, {"time": 79.22648526077097, "pitch": 68, "volume": 1.0}, {"time": 79.38902494331066, "pitch": 66, "volume": 1.0}, {"time": 79.62122448979592, "pitch": 57, "volume": 1.0}, {"time": 79.83020408163266, "pitch": 62, "volume": 1.0}, {"time": 80.17850340136054, "pitch": 57, "volume": 1.0}, {"time": 80.3178231292517, "pitch": 69, "volume": 1.0}, {"time": 80.45714285714286, "pitch": 68, "volume": 1.0}, {"time": 80.71256235827664, "pitch": 66, "volume": 1.0}, {"time": 80.82866213151928, "pitch": 65, "volume": 1.0}, {"time": 81.26984126984127, "pitch": 65, "volume": 1.0}, {"time": 81.57170068027212, "pitch": 69, "volume": 1.0}, {"time": 81.75746031746031, "pitch": 69, "volume": 1.0}, {"time": 81.96643990929705, "pitch": 70, "volume": 1.0}, {"time": 82.08253968253969, "pitch": 68, "volume": 1.0}, {"time": 82.31473922902494, "pitch": 65, "volume": 1.0}, {"time": 82.50049886621315, "pitch": 56, "volume": 1.0}, {"time": 82.68625850340136, "pitch": 61, "volume": 1.0}, {"time": 83.03455782312925, "pitch": 61, "volume": 1.0}, {"time": 83.15065759637189, "pitch": 69, "volume": 1.0}, {"time": 83.33641723356008, "pitch": 69, "volume": 1.0}, {"time": 83.49895691609977, "pitch": 66, "volume": 1.0}, {"time": 83.68471655328798, "pitch": 61, "volume": 1.0}, {"time": 84.07945578231292, "pitch": 50, "volume": 1.0}, {"time": 84.47419501133787, "pitch": 50, "volume": 1.0}, {"time": 84.63673469387756, "pitch": 73, "volume": 1.0}, {"time": 84.75283446712018, "pitch": 69, "volume": 1.0}, {"time": 84.91537414965987, "pitch": 68, "volume": 1.0}, {"time": 85.17079365079366, "pitch": 66, "volume": 1.0}, {"time": 85.37977324263039, "pitch": 74, "volume": 1.0}, {"time": 85.47265306122449, "pitch": 73, "volume": 1.0}, {"time": 85.91383219954649, "pitch": 70, "volume": 1.0}, {"time": 86.07637188208616, "pitch": 69, "volume": 1.0}, {"time": 86.26213151927438, "pitch": 77, "volume": 1.0}, {"time": 86.378231292517, "pitch": 65, "volume": 1.0}, {"time": 86.54077097505669, "pitch": 66, "volume": 1.0}, {"time": 86.98195011337869, "pitch": 66, "volume": 1.0}, {"time": 87.33024943310657, "pitch": 74, "volume": 1.0}, {"time": 87.49278911564626, "pitch": 73, "volume": 1.0}, {"time": 87.67854875283447, "pitch": 70, "volume": 1.0}, {"time": 87.84108843537415, "pitch": 68, "volume": 1.0}, {"time": 87.98040816326531, "pitch": 66, "volume": 1.0}, {"time": 88.14294784580498, "pitch": 66, "volume": 1.0}, {"time": 88.3287074829932, "pitch": 74, "volume": 1.0}, {"time": 88.7698866213152, "pitch": 69, "volume": 1.0}, {"time": 88.90920634920634, "pitch": 69, "volume": 1.0}, {"time": 89.0485260770975, "pitch": 69, "volume": 1.0}, {"time": 89.25750566893424, "pitch": 66, "volume": 1.0}, {"time": 89.39682539682539, "pitch": 61, "volume": 1.0}, {"time": 89.83800453514739, "pitch": 70, "volume": 1.0}, {"time": 90.18630385487528, "pitch": 52, "volume": 1.0}, {"time": 90.37206349206349, "pitch": 70, "volume": 1.0}, {"time": 90.4649433106576, "pitch": 69, "volume": 1.0}, {"time": 90.6507029478458, "pitch": 68, "volume": 1.0}, {"time": 90.81324263038549, "pitch": 66, "volume": 1.0}, {"time": 90.9990022675737, "pitch": 69, "volume": 1.0}, {"time": 91.1847619047619, "pitch": 73, "volume": 1.0}, {"time": 91.57950113378685, "pitch": 61, "volume": 1.0}, {"time": 91.74204081632654, "pitch": 69, "volume": 1.0}, {"time": 91.90458049886621, "pitch": 68, "volume": 1.0}, {"time": 92.11356009070295, "pitch": 67, "volume": 1.0}, {"time": 92.25287981859411, "pitch": 65, "volume": 1.0}, {"time": 92.43863945578231, "pitch": 65, "volume": 1.0}, {"time": 92.601179138322, "pitch": 65, "volume": 1.0}, {"time": 92.83337868480726, "pitch": 65, "volume": 1.0}, {"time": 92.94947845804988, "pitch": 68, "volume": 1.0}, {"time": 93.1352380952381, "pitch": 69, "volume": 1.0}, {"time": 93.3209977324263, "pitch": 73, "volume": 1.0}, {"time": 93.5764172335601, "pitch": 69, "volume": 1.0}, {"time": 93.66929705215419, "pitch": 68, "volume": 1.0}, {"time": 93.90149659863945, "pitch": 61, "volume": 1.0}, {"time": 94.11047619047619, "pitch": 50, "volume": 1.0}, {"time": 94.27301587301588, "pitch": 69, "volume": 1.0}, {"time": 94.3891156462585, "pitch": 50, "volume": 1.0}, {"time": 94.57487528344672, "pitch": 69, "volume": 1.0}, {"time": 94.76063492063491, "pitch": 68, "volume": 1.0}, {"time": 94.9231746031746, "pitch": 66, "volume": 1.0}, {"time": 95.10893424036281, "pitch": 61, "volume": 1.0}, {"time": 95.8984126984127, "pitch": 70, "volume": 1.0}, {"time": 96.06095238095239, "pitch": 54, "volume": 1.0}, {"time": 96.26993197278911, "pitch": 54, "volume": 1.0}, {"time": 96.40925170068027, "pitch": 66, "volume": 1.0}, {"time": 96.61823129251701, "pitch": 54, "volume": 1.0}, {"time": 96.94331065759637, "pitch": 61, "volume": 1.0}, {"time": 97.15229024943311, "pitch": 61, "volume": 1.0}, {"time": 97.3148299319728, "pitch": 61, "volume": 1.0}, {"time": 97.43092970521542, "pitch": 69, "volume": 1.0}, {"time": 97.61668934240363, "pitch": 69, "volume": 1.0}, {"time": 97.80244897959183, "pitch": 65, "volume": 1.0}, {"time": 98.05786848072562, "pitch": 55, "volume": 1.0}, {"time": 98.15074829931973, "pitch": 54, "volume": 1.0}, {"time": 98.33650793650794, "pitch": 62, "volume": 1.0}, {"time": 98.59192743764173, "pitch": 68, "volume": 1.0}, {"time": 98.7544671201814, "pitch": 54, "volume": 1.0}, {"time": 98.87056689342404, "pitch": 69, "volume": 1.0}, {"time": 99.1027664399093, "pitch": 62, "volume": 1.0}, {"time": 99.21886621315193, "pitch": 66, "volume": 1.0}, {"time": 99.38140589569161, "pitch": 68, "volume": 1.0}, {"time": 99.56716553287981, "pitch": 54, "volume": 1.0}, {"time": 99.8225850340136, "pitch": 62, "volume": 1.0}, {"time": 100.00834467120181, "pitch": 62, "volume": 1.0}, {"time": 100.10122448979592, "pitch": 62, "volume": 1.0}, {"time": 100.28698412698412, "pitch": 69, "volume": 1.0}, {"time": 100.47274376417234, "pitch": 68, "volume": 1.0}, {"time": 100.7049433106576, "pitch": 66, "volume": 1.0}, {"time": 100.91392290249433, "pitch": 57, "volume": 1.0}, {"time": 101.07646258503401, "pitch": 53, "volume": 1.0}, {"time": 101.21578231292517, "pitch": 49, "volume": 1.0}, {"time": 101.44798185941043, "pitch": 68, "volume": 1.0}, {"time": 101.6105215419501, "pitch": 50, "volume": 1.0}, {"time": 101.79628117913832, "pitch": 50, "volume": 1.0}, {"time": 101.98204081632653, "pitch": 66, "volume": 1.0}, {"time": 102.07492063492063, "pitch": 66, "volume": 1.0}, {"time": 102.23746031746032, "pitch": 68, "volume": 1.0}, {"time": 102.44643990929706, "pitch": 57, "volume": 1.0}, {"time": 102.67863945578232, "pitch": 52, "volume": 1.0}, {"time": 102.79473922902494, "pitch": 61, "volume": 1.0}, {"time": 102.95727891156463, "pitch": 61, "volume": 1.0}, {"time": 103.14303854875284, "pitch": 69, "volume": 1.0}, {"time": 103.32879818594104, "pitch": 69, "volume": 1.0}, {"time": 103.49133786848073, "pitch": 66, "volume": 1.0}, {"time": 103.70031746031746, "pitch": 66, "volume": 1.0}, {"time": 104.0950566893424, "pitch": 53, "volume": 1.0}, {"time": 104.23437641723356, "pitch": 65, "volume": 1.0}, {"time": 104.46657596371882, "pitch": 50, "volume": 1.0}, {"time": 104.55945578231292, "pitch": 69, "volume": 1.0}, {"time": 104.74521541950114, "pitch": 61, "volume": 1.0}, {"time": 104.93097505668935, "pitch": 65, "volume": 1.0}, {"time": 105.1631746031746, "pitch": 53, "volume": 1.0}, {"time": 105.27927437641723, "pitch": 56, "volume": 1.0}, {"time": 105.46503401360545, "pitch": 61, "volume": 1.0}, {"time": 105.72045351473923, "pitch": 61, "volume": 1.0}, {"time": 105.90621315192743, "pitch": 69, "volume": 1.0}, {"time": 105.99909297052154, "pitch": 69, "volume": 1.0}, {"time": 106.18485260770976, "pitch": 69, "volume": 1.0}, {"time": 106.44027210884354, "pitch": 65, "volume": 1.0}, {"time": 106.53315192743764, "pitch": 61, "volume": 1.0}]